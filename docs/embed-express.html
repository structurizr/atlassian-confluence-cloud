<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="structurizr-confluence.css" media="all" />

    <script type="text/javascript" src="https://structurizr.com/static/js/structurizr-responsive-embed.js"></script>
    <script src="structurizr-confluence.js"></script>
    <script id="connect-loader" data-options="sizeToParent:true;">
        (function() {
          var getUrlParam = function (param) {
            var codedParam = (new RegExp(param + '=([^&]*)')).exec(window.location.search)[1];
            return decodeURIComponent(codedParam);
          };
        
          var options = document.getElementById('connect-loader').getAttribute('data-options');
          var script = document.createElement("script");
          script.src = 'https://connect-cdn.atl-paas.net/all.js';
        
          if(options) {
            script.setAttribute('data-options', options);
          }
        
          document.getElementsByTagName("head")[0].appendChild(script);
          script.onload = main;
        })();
    </script>

    <script>
        function embedDiagram(macro) {
            var structurizrUrl = getMacroParameter(macro, 'structurizrUrl', 'https://structurizr.com');

            var definition = macro.body;
            document.getElementById('definition').innerHTML = definition;

            var form = document.getElementById('structurizrEmbedForm');
            form.action = structurizrUrl + '/embed/express';
            form.submit();
        }
    </script>
</head>
<body>
<form id="structurizrEmbedForm" target="structurizrDiagram" method="post" action="https://structurizr.com/embed/express" style="display: none;">
    <textarea id="definition" name="definition"></textarea>
    <input name="iframe" value="structurizrDiagram" />
    <input name="fullscreen" value="false" />
</form>

<iframe id="structurizrDiagram" name="structurizrDiagram" width="100%" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" allowfullscreen="true"></iframe>
</body>
</html>